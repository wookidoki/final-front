// Mock 유니버스 데이터
export const mockUniverses = [
  {
    universeId: "#1",
    title: "슈퍼갤럭시럼블",
    nickname: "인천의왕배주영",
    likeCount: 1250,
    hashtag: ["여름", "청량", "바다"],
    themeCode: "THEME_NEON",
    createdAt: "2026-01-20T14:30:00",
  },
  {
    universeId: "#2",
    title: "머가리꽃밭",
    nickname: "행복소년",
    likeCount: 890,
    hashtag: ["꽃", "봄", "힐링"],
    themeCode: "THEME_PASTEL",
    createdAt: "2026-01-19T10:20:00",
  },
  {
    universeId: "#3",
    title: "Midnight Dreams",
    nickname: "NightOwl_99",
    likeCount: 2340,
    hashtag: ["밤", "감성", "재즈"],
    themeCode: "THEME_DARK",
    createdAt: "2026-01-21T01:15:00",
  },
  {
    universeId: "#4",
    title: "레트로 신스웨이브",
    nickname: "80sLover",
    likeCount: 1680,
    hashtag: ["레트로", "신스팝", "80년대"],
    themeCode: "THEME_RETRO",
    createdAt: "2026-01-18T16:45:00",
  },
  {
    universeId: "#5",
    title: "힙합천국",
    nickname: "RapStar_KR",
    likeCount: 3120,
    hashtag: ["힙합", "랩", "비트"],
    themeCode: "THEME_URBAN",
    createdAt: "2026-01-17T11:30:00",
  },
  {
    universeId: "#6",
    title: "클래식 뮤지엄",
    nickname: "베토벤러버",
    likeCount: 756,
    hashtag: ["클래식", "피아노", "교향곡"],
    themeCode: "THEME_ELEGANT",
    createdAt: "2026-01-16T09:00:00",
  },
  {
    universeId: "#7",
    title: "K-POP Paradise",
    nickname: "아이돌덕후",
    likeCount: 4560,
    hashtag: ["케이팝", "아이돌", "댄스"],
    themeCode: "THEME_COLORFUL",
    createdAt: "2026-01-21T08:20:00",
  },
  {
    universeId: "#8",
    title: "Lo-Fi Cafe",
    nickname: "ChillVibes",
    likeCount: 2890,
    hashtag: ["로파이", "공부", "카페"],
    themeCode: "THEME_WARM",
    createdAt: "2026-01-15T19:30:00",
  },
  {
    universeId: "#9",
    title: "Rock Your World",
    nickname: "기타리스트",
    likeCount: 1450,
    hashtag: ["록", "기타", "밴드"],
    themeCode: "THEME_DARK",
    createdAt: "2026-01-14T15:10:00",
  },
  {
    universeId: "#10",
    title: "EDM Festival",
    nickname: "DJ_MASTER",
    likeCount: 3780,
    hashtag: ["EDM", "일렉트로닉", "페스티벌"],
    themeCode: "THEME_NEON",
    createdAt: "2026-01-20T22:00:00",
  },
  {
    universeId: "#11",
    title: "발라드 감성",
    nickname: "눈물한스푼",
    likeCount: 1120,
    hashtag: ["발라드", "감성", "이별"],
    themeCode: "THEME_PASTEL",
    createdAt: "2026-01-13T13:40:00",
  },
  {
    universeId: "#12",
    title: "Indie Wonderland",
    nickname: "독립음악러버",
    likeCount: 980,
    hashtag: ["인디", "독립음악", "어쿠스틱"],
    themeCode: "THEME_VINTAGE",
    createdAt: "2026-01-12T10:25:00",
  },
  {
    universeId: "#13",
    title: "트로트 한마당",
    nickname: "뽕짝킹",
    likeCount: 2100,
    hashtag: ["트로트", "뽕짝", "신나는"],
    themeCode: "THEME_COLORFUL",
    createdAt: "2026-01-11T17:50:00",
  },
  {
    universeId: "#14",
    title: "Jazz Lounge",
    nickname: "JazzMaster",
    likeCount: 1560,
    hashtag: ["재즈", "라운지", "색소폰"],
    themeCode: "THEME_ELEGANT",
    createdAt: "2026-01-10T20:15:00",
  },
  {
    universeId: "#15",
    title: "R&B Soul",
    nickname: "SoulSinger",
    likeCount: 2240,
    hashtag: ["알앤비", "소울", "그루브"],
    themeCode: "THEME_WARM",
    createdAt: "2026-01-21T12:30:00",
  },
  {
    universeId: "#16",
    title: "포크 기타방",
    nickname: "통기타맨",
    likeCount: 670,
    hashtag: ["포크", "통기타", "서정"],
    themeCode: "THEME_VINTAGE",
    createdAt: "2026-01-09T14:00:00",
  },
  {
    universeId: "#17",
    title: "팝송 플레이리스트",
    nickname: "PopMusicFan",
    likeCount: 3340,
    hashtag: ["팝", "빌보드", "차트"],
    themeCode: "THEME_NEON",
    createdAt: "2026-01-08T11:20:00",
  },
  {
    universeId: "#18",
    title: "OST 천국",
    nickname: "드라마중독",
    likeCount: 1890,
    hashtag: ["OST", "드라마", "영화"],
    themeCode: "THEME_PASTEL",
    createdAt: "2026-01-07T16:30:00",
  },
  {
    universeId: "#19",
    title: "운동할때 듣는노래",
    nickname: "헬스왕",
    likeCount: 2670,
    hashtag: ["운동", "동기부여", "에너지"],
    themeCode: "THEME_URBAN",
    createdAt: "2026-01-20T06:00:00",
  },
  {
    universeId: "#20",
    title: "새벽감성 플레이리스트",
    nickname: "불면증환자",
    likeCount: 1450,
    hashtag: ["새벽", "감성", "고요"],
    themeCode: "THEME_DARK",
    createdAt: "2026-01-06T03:30:00",
  },
];

// 검색 조건별 필터링
export const searchUniverses = (keyword, condition = "all") => {
  if (!keyword || keyword.length < 2) return mockUniverses;

  const lowerKeyword = keyword.toLowerCase();

  return mockUniverses.filter((universe) => {
    switch (condition) {
      case "title":
        return universe.title.toLowerCase().includes(lowerKeyword);
      case "nickname":
        return universe.nickname.toLowerCase().includes(lowerKeyword);
      case "universeId":
        return universe.universeId.toLowerCase() === lowerKeyword;
      case "hashtag":
        return universe.hashtag.some((tag) => tag.toLowerCase().includes(lowerKeyword));
      case "all":
      default:
        return (
          universe.title.toLowerCase().includes(lowerKeyword) ||
          universe.nickname.toLowerCase().includes(lowerKeyword) ||
          universe.hashtag.some((tag) => tag.toLowerCase().includes(lowerKeyword))
        );
    }
  });
};

// 정렬
export const sortUniverses = (universes, sortType = "latest") => {
  const sorted = [...universes];

  switch (sortType) {
    case "popular":
      return sorted.sort((a, b) => b.likeCount - a.likeCount);
    case "latest":
    default:
      return sorted.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
  }
};

// 무한 스크롤 페이지네이션 시뮬레이션
export const paginateUniverses = (universes, lastUniverseId, size = 10) => {
  if (!lastUniverseId) {
    // 첫 페이지
    return {
      content: universes.slice(0, size),
      hasNext: universes.length > size,
      lastUniverseId: universes[Math.min(size - 1, universes.length - 1)]?.universeId,
    };
  }

  // 다음 페이지
  const lastIndex = universes.findIndex((u) => u.universeId === lastUniverseId);
  const nextStart = lastIndex + 1;
  const nextEnd = nextStart + size;

  return {
    content: universes.slice(nextStart, nextEnd),
    hasNext: nextEnd < universes.length,
    lastUniverseId: universes[Math.min(nextEnd - 1, universes.length - 1)]?.universeId,
  };
};
